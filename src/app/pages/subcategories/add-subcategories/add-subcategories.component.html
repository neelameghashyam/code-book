<mat-card>
  <mat-card-header>
    <mat-card-title>{{ data?.subcategory ? 'Edit Subcategory' : 'Add Subcategory' }}</mat-card-title>
    <button mat-button (click)="cancel()"><mat-icon>close</mat-icon></button>
  </mat-card-header>
  <mat-card-content>
    <form #subcategoryForm="ngForm" (ngSubmit)="saveSubcategory(subcategoryForm)">
      <mat-form-field>
        <mat-label>Category</mat-label>
        <input matInput [value]="data?.CategoryName || ''" disabled>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput [(ngModel)]="formSubcategory.name" name="name" required>
        <mat-error *ngIf="subcategoryForm.controls['name']?.errors?.required && subcategoryForm.submitted">
          Subcategory Name is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Icon</mat-label>
        <input matInput [(ngModel)]="formSubcategory.icon" name="icon" required>
        <mat-error *ngIf="subcategoryForm.controls['icon']?.errors?.required && subcategoryForm.submitted">
          Icon is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Image URL</mat-label>
        <input matInput [(ngModel)]="formSubcategory.imageUrl" name="imageUrl" required>
        <mat-error *ngIf="subcategoryForm.controls['imageUrl']?.errors?.required && subcategoryForm.submitted">
          Image URL is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Comments</mat-label>
        <input matInput [(ngModel)]="formSubcategory.comments" name="comments">
      </mat-form-field>
      <input type="hidden" [(ngModel)]="formSubcategory.categoryId" name="categoryId" required>
      <input type="hidden" [(ngModel)]="formSubcategory.CategoryName" name="CategoryName">
      <mat-card-actions>
        <button mat-button type="button" (click)="cancel()">Cancel</button>
        <button mat-raised-button color="primary" type="submit" [disabled]="isFormInvalid()">
          {{ data?.subcategory ? 'Update' : 'Save' }}
        </button>
      </mat-card-actions>
    </form>
  </mat-card-content>
</mat-card>