<div class="h-full transition-all duration-300 ease-in-out w-full overflow-hidden flex flex-col"
     [class.bg-white]="!darkModeService.isDarkMode()"
     [class.bg-gray-900]="darkModeService.isDarkMode()">
  <nav class="p-2 flex flex-col gap-1">
    <a
      *ngFor="let item of menuItems()"
      [routerLink]="item.route"
      routerLinkActive #rla="routerLinkActive"
      class="rounded-lg p-3 transition-all duration-300 ease-in-out flex items-center"
      [ngClass]="{
        'justify-center py-3 px-0': sideNavCollapsed() && !responsiveService.isMobile(),
        'text-gray-900 hover:bg-gray-100': !darkModeService.isDarkMode(),
        'text-gray-200 hover:bg-gray-800': darkModeService.isDarkMode(),
        'bg-primary-50 text-primary-600 hover:bg-primary-100': rla.isActive && !darkModeService.isDarkMode(),
        'bg-gray-700 text-white': rla.isActive && darkModeService.isDarkMode()
      }"
    >
      <span 
        [class]="rla.isActive ? 'material-icons' : 'material-icons-outlined'"
        [ngClass]="{
          'mr-0': sideNavCollapsed() && !responsiveService.isMobile(),
          'mr-2': !sideNavCollapsed() || responsiveService.isMobile(),
          'text-primary-600': rla.isActive && !darkModeService.isDarkMode(),
          'text-white': rla.isActive && darkModeService.isDarkMode(),
          'text-gray-600': !rla.isActive && !darkModeService.isDarkMode(),
          'text-gray-400': !rla.isActive && darkModeService.isDarkMode()
        }"
      >
        {{ item.icon }}
      </span>
      
      <span 
        *ngIf="!sideNavCollapsed() || responsiveService.isMobile()"
        class="font-medium transition-all duration-200 ease-in-out"
        [ngClass]="{
          'text-primary-600 font-semibold': rla.isActive && !darkModeService.isDarkMode(),
          'text-white font-semibold': rla.isActive && darkModeService.isDarkMode(),
          'text-gray-900': !rla.isActive && !darkModeService.isDarkMode(),
          'text-gray-300': !rla.isActive && darkModeService.isDarkMode()
        }"
      >
        {{ item.label }}
      </span>
    </a>
  </nav>
</div>